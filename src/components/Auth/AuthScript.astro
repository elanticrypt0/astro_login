<script>
  import { isAuthenticated, logout } from '@/middleware/auth';

  document.addEventListener('DOMContentLoaded', () => {
    const body = document.querySelector("body");
    const authContent = document.getElementById('auth-content');
    const authError = document.getElementById('auth-error');
    const logoutBtn = document.getElementById('logout-btn');
    
    // Verificar autenticaciÃ³n
    if (isAuthenticated()) {
      authContent.classList.remove('hidden');
      authError.classList.add('hidden');

    } else {
      body.style="display:none";
      // go to login page
      window.location.replace('/auth');
    }
    
    // Manejar logout
    if (logoutBtn) {
      logoutBtn.addEventListener('click', () => {
        logout();
      });
    }
  });
</script>